---
import Layout from "../layouts/Layout.astro";
import SectionHeading from "../components/ui/SectionHeading.astro";

/**
 * GitHub Pages project site fix for static assets in /public
 * Ensures paths become:
 *   /Sudbury_Temple_Website/images/temple_img_1.jpg
 * instead of:
 *   /images/temple_img_1.jpg
 */
const base = (import.meta.env.BASE_URL ?? "/").replace(/\/?$/, "/");
const asset = (path: string) => `${base}${String(path).replace(/^\/+/, "")}`;

const images = [
  { src: asset("images/temple_img_1.jpg"), alt: "Temple photo 1" },
  { src: asset("images/temple_img_2.jpg"), alt: "Temple photo 2" },
  { src: asset("images/temple.jpg"), alt: "Temple altar" },
];
---

<Layout title="Sudbury Prarthna Samaj | Gallery" description="Photo gallery of Sudbury Prarthna Samaj.">
  <section class="mx-auto max-w-6xl px-4 py-12">
    <SectionHeading
      title="Gallery"
      subtitle="Add more temple photos over time. Keep images in public/images."
    />

    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {images.map((img) => (
        <figure class="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm">
          <img
            src={img.src}
            alt={img.alt}
            class="h-64 w-full object-cover"
            loading="lazy"
            decoding="async"
          />
        </figure>
      ))}
    </div>
  </section>
</Layout>
