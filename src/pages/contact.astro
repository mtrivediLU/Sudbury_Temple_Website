---
import Layout from "../layouts/Layout.astro";
import SectionHeading from "../components/ui/SectionHeading.astro";

/**
 * CONTACT PAGE (based on your provided copy)
 * Notes:
 * - Phone number: you said public listings vary. Keep a placeholder and a clear note to confirm the official number.
 * - Postal code: public listings vary. Keep the address text and add a note to confirm the preferred postal code.
 * - Contact form: this is a "mailto" form (no backend needed). Later you can swap to Formspree/Netlify Forms.
 */

const charity = {
  registeredName: "Sudbury Prarthana Samaj",
  registrationNumber: "119205078 RR 0001",
};

const contacts = {
  email: "sudbury.mandir@gmail.com",
  // Replace once confirmed by temple committee
  phoneDisplay: "To be confirmed",
  phoneHref: "", // Example: "tel:+1705XXXXXXX"
};

const addresses = {
  temple: "485 McNeill Blvd, Greater Sudbury, Ontario",
  templePostalNote:
    "Some public listings show different postal codes for the same street address. Confirm the preferred postal code and update here.",
  mailing: "15 Merlot Crt, Sudbury, Ontario, P3E 0C8",
};

const reasons = [
  { value: "general", label: "General inquiry" },
  { value: "puja", label: "Puja request" },
  { value: "volunteer", label: "Volunteering" },
  { value: "donation", label: "Donation question" },
  { value: "events", label: "Events and scheduling" },
];

const visitInfo = [
  {
    title: "Best time to visit",
    desc: "Sunday during the regular gathering time, typically 11:00 AM to 1:00 PM.",
  },
  {
    title: "What to include in your message",
    desc: "Purpose, preferred date (if relevant), and the best way to reach you (email or phone).",
  },
  {
    title: "Charity details",
    desc: `Registered Charity. Charity Registration Number: ${charity.registrationNumber}.`,
  },
];

const helperNotes = [
  {
    title: "Puja requests",
    desc: "Please include the purpose and your preferred date. Sharing details in advance helps the temple coordinate appropriately.",
  },
  {
    title: "Volunteering",
    desc: "If you want to volunteer, mention how you would like to help (event setup, prasad support, festival planning, outreach, communications, or website support).",
  },
  {
    title: "Donations",
    desc: "For donation questions, include whether you need a receipt confirmation or you want your donation to support a specific purpose or event.",
  },
];
---

<Layout
  title="Sudbury Prarthna Samaj | Contact"
  description="Contact Sudbury Prarthana Samaj for puja requests, volunteering, donations, events, and general inquiries."
>
  <!-- HERO -->
  <section class="mx-auto max-w-6xl px-4 pb-6 pt-10 md:pt-12">
    <div class="inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700">
      Contact
    </div>

    <h1 class="mt-4 text-3xl font-semibold tracking-tight text-slate-900 md:text-4xl">
      Contact and visit
    </h1>

    <p class="mt-4 max-w-3xl text-sm leading-relaxed text-slate-700 md:text-base">
      For puja requests, volunteering, donations, membership questions, events, and general inquiries, please reach out using
      the form below or email us directly.
    </p>

    <div class="mt-6 flex flex-wrap gap-3">
      <a
        href={`mailto:${contacts.email}`}
        class="rounded-lg bg-slate-900 px-5 py-2.5 text-sm font-semibold text-white hover:bg-slate-800"
      >
        Email us
      </a>
      <a
        href="/donate"
        class="rounded-lg border border-slate-200 px-5 py-2.5 text-sm font-semibold text-slate-900 hover:bg-slate-50"
      >
        Donate
      </a>
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <section class="mx-auto max-w-6xl px-4 py-12">
    <SectionHeading
      title="Get in touch"
      subtitle="Use the form to send a message. This form opens your email app and pre-fills the message."
    />

    <div class="grid gap-6 md:grid-cols-2">
      <!-- Contact details + addresses -->
      <div class="space-y-6">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <div class="text-sm font-semibold text-slate-900">Email</div>
          <p class="mt-2 text-sm text-slate-700">
            <a class="font-semibold text-slate-900 hover:underline" href={`mailto:${contacts.email}`}>
              {contacts.email}
            </a>
          </p>

          <div class="mt-6 text-sm font-semibold text-slate-900">Phone</div>
          <p class="mt-2 text-sm text-slate-700">
            <span class="font-semibold text-slate-900">{contacts.phoneDisplay}</span>
            <span class="block text-xs text-slate-500">
              Public listings show different phone numbers. Confirm the official primary number and update this field.
            </span>
          </p>

          <div class="mt-6 grid gap-3">
            <div class="rounded-xl bg-slate-50 p-4 text-sm text-slate-700">
              <div class="text-xs font-semibold text-slate-600">Temple address</div>
              <div class="mt-1 font-semibold text-slate-900">{addresses.temple}</div>
              <div class="mt-2 text-xs text-slate-600">{addresses.templePostalNote}</div>
            </div>

            <div class="rounded-xl bg-slate-50 p-4 text-sm text-slate-700">
              <div class="text-xs font-semibold text-slate-600">Mailing address (administrative)</div>
              <div class="mt-1 font-semibold text-slate-900">{addresses.mailing}</div>
            </div>
          </div>

          <div class="mt-6 rounded-xl bg-slate-50 p-4 text-sm text-slate-700">
            Registered Charity. Charity Registration Number: <span class="font-semibold">{charity.registrationNumber}</span>
          </div>
        </div>

        <div class="grid gap-4 sm:grid-cols-2">
          {visitInfo.map((x) => (
            <div class="rounded-2xl bg-slate-50 p-5 ring-1 ring-slate-200">
              <div class="text-sm font-semibold text-slate-900">{x.title}</div>
              <p class="mt-2 text-sm text-slate-700">{x.desc}</p>
            </div>
          ))}
        </div>
      </div>

      <!-- Contact form (mailto) -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <div class="text-sm font-semibold text-slate-900">Contact form</div>
        <p class="mt-2 text-sm text-slate-700">
          This form sends your message using your email app. If you prefer, you can email us directly at{" "}
          <a class="font-semibold text-slate-900 hover:underline" href={`mailto:${contacts.email}`}>
            {contacts.email}
          </a>
          .
        </p>

        <form
          class="mt-6 space-y-4"
          method="GET"
          action={`mailto:${contacts.email}`}
          enctype="text/plain"
        >
          <div class="grid gap-4 sm:grid-cols-2">
            <div>
              <label class="text-xs font-semibold text-slate-700">Name</label>
              <input
                name="name"
                required
                placeholder="Your full name"
                class="mt-2 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:outline-none"
              />
            </div>

            <div>
              <label class="text-xs font-semibold text-slate-700">Email or phone</label>
              <input
                name="contact"
                required
                placeholder="Email address or phone number"
                class="mt-2 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:outline-none"
              />
            </div>
          </div>

          <div>
            <label class="text-xs font-semibold text-slate-700">Reason for message</label>
            <select
              name="reason"
              required
              class="mt-2 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-400 focus:outline-none"
            >
              <option value="" disabled selected>Select one</option>
              {reasons.map((r) => (
                <option value={r.value}>{r.label}</option>
              ))}
            </select>
          </div>

          <div>
            <label class="text-xs font-semibold text-slate-700">Message</label>
            <textarea
              name="message"
              required
              rows="6"
              placeholder="Share details (preferred date, purpose, and any other information that helps us respond)."
              class="mt-2 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:outline-none"
            ></textarea>
          </div>

          <div class="rounded-xl bg-slate-50 p-4 text-sm text-slate-700">
            <div class="text-sm font-semibold text-slate-900">Helpful tips</div>
            <ul class="mt-2 list-disc space-y-2 pl-5 text-sm text-slate-700">
              <li>For a puja request, include the purpose and preferred date.</li>
              <li>For volunteering, mention how you would like to help.</li>
              <li>For donations, include whether you need receipt confirmation or a specific donation purpose.</li>
            </ul>
          </div>

          <button
            type="submit"
            class="w-full rounded-lg bg-slate-900 px-5 py-2.5 text-sm font-semibold text-white hover:bg-slate-800"
          >
            Send message
          </button>

          <p class="text-xs text-slate-500">
            Next improvement: replace this mailto form with a hosted form service (Formspree, Netlify Forms, or a small serverless endpoint) so submissions work on all devices without relying on an email client.
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- SECONDARY HELP SECTION -->
  <section class="mx-auto max-w-6xl px-4 pb-16 pt-4">
    <div class="rounded-2xl bg-slate-900 p-8 text-white md:p-10">
      <div class="grid gap-8 md:grid-cols-2 md:items-center">
        <div>
          <div class="text-2xl font-semibold tracking-tight">What can we help you with?</div>
          <p class="mt-2 text-sm text-white/85">
            Here are common reasons people contact the temple. If you are not sure which category applies, choose general inquiry.
          </p>
        </div>

        <div class="grid gap-3">
          {helperNotes.map((x) => (
            <div class="rounded-xl bg-white/10 p-4 ring-1 ring-white/15">
              <div class="text-sm font-semibold">{x.title}</div>
              <p class="mt-1 text-sm text-white/80">{x.desc}</p>
            </div>
          ))}
        </div>
      </div>

      <div class="mt-8 flex flex-wrap gap-3">
        <a href="/events" class="rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-slate-900 hover:bg-slate-100">
          View events
        </a>
        <a href="/services" class="rounded-lg bg-white/10 px-5 py-2.5 text-sm font-semibold text-white ring-1 ring-white/20 hover:bg-white/15">
          Explore services
        </a>
      </div>
    </div>
  </section>
</Layout>
